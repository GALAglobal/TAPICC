<html xmlns:ng="http://docbook.org/docbook-ng"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>XLIFF 2 Extraction and Merging Best Practice, Version 1.0</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2"><meta name="description" content="This Informational Best Practice specification targets designers of XLIFF Extracting and Merging Tools for content owners. It gathers common problems that are prone to appear when Extracting XLIFF Documents from HTML, generic XML, or MarkDown. This specification shows why some Extraction approaches will cause issues during an XLIFF Roundtrip. This best practice guidance provides better thought through alternatives and shows how to use many of advanced XLIFF features for lossless Localization roundtrip of HTML and XML based content."><meta name="keywords" content="XLIFF, Extraction, Merging, Best Practice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="en-US" class="article"><div class="titlepage"><div><div><h1 class="title"><a name="d5e1"></a>XLIFF 2 Extraction and Merging Best Practice, Version 1.0</h1></div><div><div class="authorgroup"><div class="editor"><h4 class="editedby">Edited by</h4><h3 class="editor">David Filip</h3><div class="affiliation"><span class="orgname">ADAPT Centre<br></span></div><code class="email">&lt;<a class="email" href="mailto:david.filip@adaptcentre.ie">david.filip@adaptcentre.ie</a>&gt;</code></div><div class="editor"><h3 class="editor">J&aacute;n Husar&#269;&iacute;k</h3><div class="affiliation"><span class="orgname">Moravia<br></span></div><code class="email">&lt;<a class="email" href="mailto:jhusarcik@moravia.com">jhusarcik@moravia.com</a>&gt;</code></div><div class="othercredit"><h3 class="othercredit">Rodolfo M. Raya</h3></div><div class="othercredit"><h3 class="othercredit">Andreas Galambos</h3></div></div></div><div><p class="releaseinfo"></p></div><div><p class="releaseinfo"></p></div><div><p class="releaseinfo"></p></div><div><p class="releaseinfo"></p></div><div><p class="releaseinfo"></p></div><div><p class="releaseinfo"></p></div><div><p class="releaseinfo">TAPICC&#8194;T1/WG3</p></div><div><p class="copyright">Copyright &copy; 2018 GALA&#8194;TAPICC. All rights reserved.</p></div><div><div class="legalnotice"><a name="d5e35"></a><p class="legalnotice-title"><b>Additional artifacts</b></p><p>This prose specification is one component of a Work Product that also includes:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Extraction and merging examples from
            https://galaglobal.github.io/TAPICC/T1/WG3/wd01/XLIFF-EM-BP-V1.0-wd01/extraction_examples/readme.md</p></li></ul></div></div></div><div><div class="legalnotice"><a name="d5e41"></a><p class="legalnotice-title"><b>Related work</b></p><p>This note provides informative best practice for XLIFF 2 Specifications:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>XLIFF Version 2.1 [<span class="citation">[XLIFF-2.1]</span>]</p></li><li class="listitem"><p>XLIFF Version 2.0 [<span class="citation">[XLIFF-2.0]</span>]</p></li><li class="listitem"><p>ISO 21720:2017 [<span class="citation">[ISO XLIFF]</span>]</p></li></ul></div></div></div><div><div class="legalnotice"><a name="d5e61"></a><p class="legalnotice-title"><b>Status</b></p><p>This Informational Best Practice was last revised by TAPICC T1/WG3 or the TAPICC Steering Committee on the
        above date. The level of approval is also listed above. Check the &#8220;Latest version&#8221; location
        noted above for possible later revisions of this document.</p><p>Contributions to this deliverable or subsequent versions of this deliverable can be made
        via the <a class="link" href="https://github.com/GALAglobal/TAPICC" target="_top">GALA TAPICC GitHub
          Repository</a> subject to signing the <a class="link" href="https://www.gala-global.org/tapicc-legal-agreement" target="_top">TAPICC Legal
        Agreement</a>.</p></div></div><div><div class="legalnotice"><a name="d5e67"></a><p class="legalnotice-title"><b>Citation format</b></p><p>When referencing this specification the following citation format should be used:</p><p>[<span class="citation">XLIFF-EM-BP</span>]</p><p><span class="emphasis"><em>XLIFF 2 Extraction and Merging Best Practice, Version 1.0</em></span>
        Edited by David Filip and J&aacute;n Husar&#269;&iacute;k. 24 January 2018. Working Draft 01. https://galaglobal.github.io/TAPICC/T1/WG3/wd01/XLIFF-EM-BP-V1.0-wd01.html.
        Latest version: N/A.html.</p></div></div><div><div class="legalnotice"><a name="d5e74"></a><p class="legalnotice-title"><b>Notices</b></p><p>Copyright &copy; GALA&#8194;TAPICC 2018. All rights reserved.</p><p> The Translation API Class and Cases (TAPICC) initiative is a collaborative,
        community-driven, open-source project to advance API standards in the localization industry.
        The overall purpose of this project is to provide a metadata and API framework on which
        users can base their integration, automation and interoperability efforts.</p><p>The usage of all deliverables of this initiative - including this specification - is
        subject to open source license terms expressed in the BSD-3-Clause License and CC-BY 2.0
        License, the declared applicable licenses when the project was chartered. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The 3-Clause BSD License (BSD-3 Clause): <a class="link" href="https://opensource.org/licenses/BSD-3-Clause" target="_top">https://opensource.org/licenses/BSD-3-Clause</a></p></li><li class="listitem"><p>Creative Commons Legal Code (CC-BY 2.0): <a class="link" href="https://creativecommons.org/licenses/by/2.0/legalcode" target="_top">https://creativecommons.org/licenses/by/2.0/legalcode</a></p></li></ul></div></div></div><div><p class="pubdate">24 January 2018</p></div><div><div class="abstract"><p class="title"><b>Abstract</b></p><p>This Informational Best Practice specification targets designers of XLIFF <em class="firstterm"></em>Extracting and Merging Tools for content
        owners. It gathers common problems that are prone to
        appear when <em class="firstterm">Extracting</em> <em class="firstterm">XLIFF Documents</em> from HTML, generic XML, or MarkDown. This specification
        shows why some <em class="firstterm">Extraction</em> approaches will cause issues during an <em class="firstterm">XLIFF Roundtrip</em>. This best practice guidance provides better thought
        through alternatives and shows how to use many of advanced XLIFF features for lossless
        Localization roundtrip of HTML and XML based content.</p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="glossary"><a href="#Glossary">Terminology and Concepts</a></span></dt><dt><span class="section"><a href="#Intro">Introduction</a></span></dt><dt><span class="section"><a href="#Spec">Specification</a></span></dt><dd><dl><dt><span class="section"><a href="#d5e125">Inline Codes</a></span></dt><dt><span class="section"><a href="#d5e153">Target Content in Extracted XLIFF</a></span></dt><dt><span class="section"><a href="#d5e167">Editing and Context Hints</a></span></dt><dt><span class="section"><a href="#d5e186">XLIFF Structure</a></span></dt><dt><span class="section"><a href="#d5e195">Miscellaneous</a></span></dt><dt><span class="section"><a href="#d5e217">XLIFF&#8194;Validations</a></span></dt></dl></dd><dt><span class="section"><a href="#Summary">Summary</a></span></dt><dt><span class="bibliography"><a href="#references">References</a></span></dt></dl></div><div class="glossary"><div class="titlepage"><div><div><h2 class="title"><a name="Glossary"></a>Terminology and Concepts</h2></div></div></div><dl><dt><span class="glossterm">Context hints</span></dt><dd class="glossdef"><p>XLIFF&#8194;attributes on structural or inline elements providing additional contexts, such
          as <code class="code"><a class="link" href="http://docs.oasis-open.org/xliff/xliff-core/v2.1/xliff-core-v2.1.html#disp" target="_top">disp</a></code> or <code class="code"><a class="link" href="http://docs.oasis-open.org/xliff/xliff-core/v2.1/xliff-core-v2.1.html#equiv" target="_top">equiv</a></code>.</p></dd><dt><span class="glossterm">Inline codes</span></dt><dd class="glossdef"><p></p></dd><dt><span class="glossterm">marker</span></dt><dd class="glossdef"><p></p></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Intro"></a>Introduction</h2></div></div></div><p>This specification targets designers of XLIFF Extracting and Merging Tools for content
      owners. XLIFF Roundtrip designers of all kinds will benefit, no matter if they design their
      XLIFF Extractor/Merger for corporate or blog use.</p><p>Extraction and merging behavior is out of the normative scope of OASIS XLIFF
      Specifications. Although those specifications do provide some guidance for Extractor and
      Merger Agents, XLIFF TC did not attempt to prescribe how exactly to use XLIFF to represent
native content. This is mostly because XLIFF is a native format agnostic Localization interchange Format.</p><p>This Informational Best Practice targets designers of XLIFF <em class="firstterm">Extracting</em> and <em class="firstterm">Merging</em> Tools for content
      owners. <em class="firstterm">XLIFF Roundtrip</em> designers of all kinds will benefit, no matter if they design their
      <em class="firstterm">XLIFF Extractor/Merger</em> for corporate or blog use.</p><p><em class="firstterm">Extraction</em> and <em class="firstterm">Merging</em> behavior is out of the normative scope of OASIS XLIFF
      Specifications. Although those specifications do provide some guidance for <em class="firstterm">Extractor</em> and
      <em class="firstterm">Merger Agents</em>, XLIFF TC did not attempt to prescribe how exactly to use XLIFF to represent
      native content. This is mostly because XLIFF is a native format agnostic Localization
      Interchange Format.</p><p>This specification gathers common problems that are prone to
      appear when Extracting XLIFF Documents from HTML, generic XML, or MarkDown. This specification
      shows why some <em class="firstterm">Extraction</em> approaches will cause issues during an <em class="firstterm">XLIFF Roundtrip</em>, issues often
      so severe that <em class="firstterm">Merging</em> back of target content will not be possible without costly
      postprocessing or could fail utterly. This best practice guidance provides better thought
      through alternatives and shows how to use many of advanced XLIFF features for lossless
      Localization roundtrip of HTML and XML based content. Most of the times there are no ultimate
      prescribed solutions, rather possible design goals are described and best methods how to
      achieve them proposed.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Spec"></a>Specification</h2></div></div></div><p></p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e125"></a>Inline Codes</h3></div></div></div><p></p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e128"></a>Representing Spanning Codes</h4></div></div></div><p>Spanning codes in the original format are created by opening code, content and closing
          code. In HTML that can be <code class="code">&lt;bold&gt;text&lt;/bold&gt;</code>, in RTF <code class="code">\b text
            \b0</code>.</p><p>In XLIFF2 such code can be represented using <code class="code">&lt;sc /&gt;</code>,
            <code class="code">&lt;ec/&gt;</code> pair universally, or by <code class="code">&lt;pc&gt;&lt;/pc&gt;</code> in case of
          well formed spanning code.</p><p>Ideally the original format is documented enough to instruct Extractor about role of
          each inline code. For example XML&#8194;schema allows to declare elements using keyword EMPTY.
          This way all elements, which are not declared EMPTY, can be represented as described
          above. To further help the extraction process the following recommendation could be
          implemented in original XML format: [<span class="citation">???For interoperability, the
            empty-element tag SHOULD be used, and SHOULD only be used, for elements which are
            declared EMPTY.</span>]</p><p></p><p>&#8226;[spanning_as_ph]
          https://github.com/GALAglobal/TAPICC/tree/master/extraction_examples/spanning_as_ph
          &#8226;Extractor could use knowledge of schema and only use does not use &lt;ph&gt; for codes that
          are declared as EMPTY. To further help the extraction process, following W3C
          recommendation could be followed: &#8222;The empty-element tag <span class="italic">SHOULD</span> be used, and <span class="italic">SHOULD</span> only be used,
          for elements which are declared EMPTY.&#8220; (https://www.w3.org/TR/REC-xml/#sec-starttags),
          e.g. even &lt;span&gt; without content would use &lt;span&gt;&lt;/span&gt; as compared to &lt;br
          /&gt;. &#8226;https://issues.oasis-open.org/browse/XLIFF-14
          http://docs.oasis-open.org/xliff/xliff-core/v2.1/xliff-core-v2.1.html#ph</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e144"></a>Outermost Tag Pairs</h4></div></div></div><p> &#8226;[outermost_inline_excluded]
          https://github.com/GALAglobal/TAPICC/tree/master/extraction_examples/outermost_inline_excluded
          &#8226;Both functional and formatting inline codes provide additional context for translator and
          could be linguistically significant. &#8226;If they are important enough to be in native format,
          they should be present in extracted content. </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e147"></a> Incomplete Extraction of Inline Codes</h4></div></div></div><p> &#8226;[CDATA] https://github.com/GALAglobal/TAPICC/tree/master/extraction_examples/cdata
          &#8226;[inline_codes_plain_text]
          https://github.com/GALAglobal/TAPICC/tree/master/extraction_examples/inline_codes_plain_text
          &#8226;http://docs.oasis-open.org/xliff/xliff-core/v2.1/xliff-core-v2.1.html#d0e8112
          &#8226;https://www.w3.org/TR/xml-i18n-bp/#AuthCDATA &#8226;Not using native XLIFF representation
          leaves inline codes unprotected and increases risk of roundtrip corrupting them. </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e150"></a> Representing Multiple Subsequent Codes</h4></div></div></div><p> &#8226;[multiple_codes_represented_as_single]
          https://github.com/GALAglobal/TAPICC/tree/master/extraction_examples/multiple_codes_represented_as_single
          &#8226;Grouping several independent inline codes into single representation could prove
          challenging with negative impact on &#8226;Translation quality &#8226;Fluency &#8226;Functionality
          &#8226;Automated actions &#8226;Validation &#8226;Some codes needs to be removed, copied, added or
          reordered. &#8226;If any of the above actions is to be prevented, it can be controlled using
          editing hints with finer granularity. </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e153"></a>Target Content in Extracted XLIFF</h3></div></div></div><p></p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e156"></a>Inserting unmodified source content into <code class="code">&lt;target&gt;</code></h4></div></div></div><p></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e160"></a> Inserting possible translation into <code class="code">&lt;target&gt;</code></h4></div></div></div><p></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e164"></a> State Machine</h4></div></div></div><p></p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e167"></a>Editing and Context Hints</h3></div></div></div><p></p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e170"></a>Non-deletable Inline Codes</h4></div></div></div><p></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e173"></a> Preserving Order of Codes</h4></div></div></div><p></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e176"></a> Controlling Segmentation</h4></div></div></div><p></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e179"></a>Providing Context</h4></div></div></div><p><em class="glossterm">Context hints</em></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e183"></a>Considerations for Using Spanning Codes</h4></div></div></div><p></p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e186"></a>XLIFF Structure</h3></div></div></div><p></p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e189"></a>File Structure</h4></div></div></div><p></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e192"></a>Role of &lt;unit&gt;</h4></div></div></div><p></p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e195"></a>Miscellaneous</h3></div></div></div><p></p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e198"></a>Value of attribute <code class="code">id</code></h4></div></div></div><p></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e202"></a>Whitespace Handling</h4></div></div></div><p></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e205"></a>Protecting Non-localizable Content</h4></div></div></div><p></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e208"></a>Merging Translated Content</h4></div></div></div><p></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e211"></a>Selecting Language Tags</h4></div></div></div><p></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d5e214"></a>Validation of Extracted Content</h4></div></div></div><p></p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e217"></a>XLIFF&#8194;Validations</h3></div></div></div><p></p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Summary"></a>Summary</h2></div></div></div><p></p></div><div class="bibliography"><div class="titlepage"><div><div><h2 class="title"><a name="references"></a>References</h2></div></div></div><div class="bibliodiv"><h3 class="title"><a name="d5e225"></a>Normative references</h3><div class="biblioentry"><a name="d5e227"></a><p>[<abbr class="abbrev"></abbr>] <span class="title"><i></i>. </span><span class="copyright">Copyright &copy;  . </span><span class="editor"><span class="firstname"></span> <span class="surname"></span>. </span></p></div></div><div class="bibliodiv"><h3 class="title"><a name="d5e237"></a>Non-Normative References</h3><div class="biblioentry"><a name="d5e239"></a><p>[<abbr class="abbrev"></abbr>] <span class="title"><i></i>. </span><span class="copyright">Copyright &copy;  . </span><span class="editor"><span class="firstname"></span> <span class="surname"></span>. </span></p></div></div></div></div></body></html>
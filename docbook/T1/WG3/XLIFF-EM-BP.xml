<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article [
<!ENTITY % dbgenent SYSTEM "dbgenent.mod">
%dbgenent;
]>
<article version="5.1" xml:lang="en-us" xmlns="http://docbook.org/ns/docbook"
  xmlns:xl="http://www.w3.org/1999/xlink">
  <info>
    <title>XLIFF 2 Extraction and Merging Best Practice, Version &version;</title>
    <authorgroup>
      
<!-- Editors appear in alphabetical order unless there is a lead editor among a group of editors -->
      <editor>
        <personname>David Filip</personname>
        <email>david.filip@adaptcentre.ie</email>
        <affiliation>
          <orgname>ADAPT Centre</orgname>
        </affiliation>
      </editor>
      
      <editor>
        <personname>Ján Husarčík</personname>
        <email>jhusarcik@moravia.com</email>
        <affiliation>
          <orgname>Moravia</orgname>
        </affiliation>
      </editor>

<!-- WG Chairs should be given credit -->
      <othercredit role="chair">
        <personname>Rodolfo M. Raya</personname>
      </othercredit>
      <othercredit role="chair">
        <personname>Andreas Galambos</personname>
      </othercredit>
    </authorgroup>

    <keywordset>
      <keyword>XLIFF</keyword>
      <keyword>Extraction</keyword>
      <keyword>Merging</keyword>
      <keyword>Best Practice</keyword>
    </keywordset>

    <releaseinfo role="this-location-authoritative" />
    <releaseinfo role="this-location-pdf" />

    <releaseinfo role="previous-location-authoritative" />
    <releaseinfo role="previous-location-pdf" />

    <releaseinfo role="latest-location-authoritative" />
    <releaseinfo role="latest-location-pdf" />

    <releaseinfo role="committee">TAPICC T1/WG3</releaseinfo>
    <pubdate>&pubdate;</pubdate>
    <copyright>
      <year>&pubyear;</year>
      <holder>GALA TAPICC. All rights reserved.</holder>
    </copyright>
    <legalnotice role="additional">
      <title>Additional artifacts</title>
      <para>This prose specification is one component of a Work Product that also includes:</para>
      <itemizedlist>
        <listitem>
          <para>Extraction and merging examples from
            https://github.com/GALAglobal/TAPICC/tree/master/extraction_examples</para>
        </listitem>
      </itemizedlist>
    </legalnotice>

    <legalnotice role="related">
      <title>Related work</title>
      <para>This note provides informative best practice for XLIFF 2 Specifications:</para>
      <itemizedlist>
        <listitem>
          <para>XLIFF Version 2.1 [XLIFF-2.1]</para>
        </listitem>
        <listitem>
          <para>XLIFF Version 2.0 [XLIFF-2.0]</para>
        </listitem>
      </itemizedlist>
    </legalnotice>

    <abstract>
      <para>First paragraph of your abstract.</para>
    </abstract>
    <legalnotice role="status">
      <title>Status</title>
      <para>This document was last revised by TAPICC T1/WG3 on the above date. The level of approval
        is also listed above. Check the “Latest version” location noted above for possible later
        revisions of this document.</para>
      <para>TODO contrib</para>
    </legalnotice>
    <legalnotice role="citation">
      <title>Citation format</title>
      <para>When referencing this specification the following citation format should be used:</para>
      <para><citation>XLIFF-EM-BP</citation></para>
      <para><emphasis>XLIFF 2 Extraction and Merging Best Practice, Version &version;</emphasis> Edited by David Filip
        and Ján Husarčík. &pubdate;. &stage; &substage;. &this-loc;.html. Latest version: &latest;.html.</para>
    </legalnotice>
    <legalnotice role="notices">
      <title>Notices</title>
      <para>Copyright © GALA TAPICC &pubyear;. All rigths reserved.</para>
      <para>TODO DETAILS https://www.gala-global.org/tapicc-legal-agreement</para>
    </legalnotice>
  </info>


  <glossary xml:id="Glossary">
    <title>Terminology and Concepts</title>
    <glossentry>
      <glossterm>Context hints</glossterm>
      <glossdef><para>XLIFF attributes on structural or inline elements providing additional contexts, such as
              <code><link
              xlink:href="http://docs.oasis-open.org/xliff/xliff-core/v2.1/xliff-core-v2.1.html#disp"
              xmlns:xlink="http://www.w3.org/1999/xlink">disp</link></code> or <code><link
              xlink:href="http://docs.oasis-open.org/xliff/xliff-core/v2.1/xliff-core-v2.1.html#equiv"
              xmlns:xlink="http://www.w3.org/1999/xlink">equiv</link></code>.</para></glossdef>
    </glossentry>
  </glossary>
  <section xml:id="Intro">
    <title>Introduction</title>

    <para>This specification targets designers of XLIFF Extracting and Merging Tools for content owners. XLIFF Roundtrip designers of all kinds will benefit, no matter if they design their XLIFF Extractor/Merger for corporate or blog use. Extraction and merging behavior is out of the normative scope of OASIS XLIFF Specifications. Although those specifications do provide some guidance for Extractor and Merger Agents, XLIFF TC did not attempt to prescribe how exactly to use XLIFF to represent native content. This is mostly because XLIFF is a native format agnostic Localization Interchange Format. This informative best practice specification gathers common problems that are prone to appear when Extracting XLIFF Documents from HTML, generic XML, or MarkDown. This specification shows why some Extraction approaches will cause issues during an XLIFF Roundtrip, issues often so severe that Merging back of target content will not be possible without costly postprocessing or could fail utterly. This best practice guidance provides better thought through alternatives and shows how to use many of advanced XLIFF features for lossless Localization roundtrip of HTML and XML based content. Most of the times there are no ultimate prescribed solutions, rather possible design goals are described and best methods how to achieve them proposed.</para>

  </section>
  

  <section xml:id="Spec">
    <title>Specification</title>
  
  <section>
    <title>Inline Codes</title>
      <section>
        <title>Representing spanning codes</title>
        <para> •[spanning_as_ph]
          https://github.com/GALAglobal/TAPICC/tree/master/extraction_examples/spanning_as_ph
          •Extractor could use knowledge of schema and only use does not use &lt;ph> for codes that
          are declared as EMPTY. To further help the extraction process, following W3C
          recommendation could be followed: „The empty-element tag <emphasis role="italic"
            >SHOULD</emphasis> be used, and <emphasis role="italic">SHOULD</emphasis> only be used,
          for elements which are declared EMPTY.“ (https://www.w3.org/TR/REC-xml/#sec-starttags),
          e.g. even &lt;span> without content would use &lt;span>&lt;/span> as compared to &lt;br
          />. •https://issues.oasis-open.org/browse/XLIFF-14
          http://docs.oasis-open.org/xliff/xliff-core/v2.1/xliff-core-v2.1.html#ph</para>
      </section>
      <section>
        <title>Outermost tag pairs</title>
        <para> •[outermost_inline_excluded]
          https://github.com/GALAglobal/TAPICC/tree/master/extraction_examples/outermost_inline_excluded
          •Both functional and formatting inline codes provide additional context for translator and
          could be linguistically significant. •If they are important enough to be in native format,
          they should be present in extracted content. </para>
      </section>
      <section>
        <title> •<emphasis role="bold">Incomplete extraction of inline codes</emphasis></title>
        <para> •[CDATA] https://github.com/GALAglobal/TAPICC/tree/master/extraction_examples/cdata
          •[inline_codes_plain_text]
          https://github.com/GALAglobal/TAPICC/tree/master/extraction_examples/inline_codes_plain_text
          •http://docs.oasis-open.org/xliff/xliff-core/v2.1/xliff-core-v2.1.html#d0e8112
          •https://www.w3.org/TR/xml-i18n-bp/#AuthCDATA •Not using native XLIFF representation
          leaves inline codes unprotected and increases risk of roundtrip corrupting them. </para>
      </section>
      <section>
        <title> •Using single inline element to represent multiple subsequent codes</title>
        <para> •[multiple_codes_represented_as_single]
          https://github.com/GALAglobal/TAPICC/tree/master/extraction_examples/multiple_codes_represented_as_single
          •Grouping several independent inline codes into single representation could prove
          challenging with negative impact on •Translation quality •Fluency •Functionality
          •Automated actions •Validation •Some codes needs to be removed, copied, added or
          reordered. •If any of the above actions is to be prevented, it can be controlled using
          editing hints with finer granularity. </para>
      </section>
  </section>
  <section>
    <title>Target Content</title>
  
    <section>
      <title>Inserting unmodified source content into &lt;target></title>
      <para />
    </section>
      <section>
        <title> Inserting possible translation into &lt;target></title>
        <para />
      </section>
      <section>
        <title> State Machine</title>
        <para />
      </section>
  </section>
  <section>
    <title>Editing and Context Hints</title>
      <section>
        <title>Non-deletable Inline Codes</title>
        <para />
      </section>
      <section>
        <title> Preserving Order of Codes</title>
        <para />
      </section>
      <section>
        <title> Controlling Segmentation Modification</title>
        <para />
      </section>
      <section>
        <title>Providing Context</title>
        <para><glossterm>Context hints</glossterm></para>
      </section>
      <section>
        <title>Considerations for Using Spanning Codes</title>
        <para />
      </section>
  </section>
  <section>
    <title>XLIFF Structure</title>
      <section>
        <title>File Structure</title>
        <para />
      </section>
      <section>
        <title>Role of &lt;unit></title>
        <para />
      </section>
  </section>
  <section>
    <title>Miscellaneous</title>
      <section>
        <title>Value of @</title>
        <para />
      </section>
      <section>
        <title>Whitespace Handling</title>
        <para />
      </section>
      <section>
        <title>Protecting Non-localizable Content</title>
        <para />
      </section>
      <section>
        <title>Merging Translated Content</title>
        <para />
      </section>
      <section>
        <title>Selecting Language Tags</title>
        <para />
      </section>
      <section>
        <title>Validation of Extracted Content</title>
        <para />
      </section>
  </section>
  <section>
    <title>XLIFF Validations</title>
  </section>
  </section>
  
  <section>
    <title>Summary</title>
 <!--   <para>You can use not only paragraphs, but also programlistings:</para>
    <programlisting><![CDATA[<article xmlns="http://docbook.org/ns/docbook" …>
  <title>Sample article</title>
  <para>This is a really short article.</para>
</article>]]></programlisting>
    <para>DocBook offers plenty of elements for inline markup, for example <tag>code</tag> for
      arbitrary code, e.g. <code>print 2+3;</code>.</para>
    <para>You can give titles to your programlistings using <tag>example</tag>:</para>
    <example>
      <title>DocBook V4.5 document</title>
      <programlisting><![CDATA[<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC '-//OASIS//DTD DocBook XML V4.5//EN'
                         'http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd'>
<article lang="en">
  <title>Sample article</title>
  <para>This is a very short article.</para>
</article>]]></programlisting>
    </example>
    <para>Lists can be created using <tag>itemizedlist</tag> or <tag>orderedlist</tag>
      elements:</para>
    <section>
      <title>Nested section</title>
      <para>some text</para>
      <section>
        <title>Nested nested section</title>
        <para>some text</para>
      </section>
    </section>-->
  </section>

  <bibliography xml:id="references">

    <bibliomixed>
      <abbrev>XLIFF-2.1</abbrev> Edited by David Filip, Tom Comerford, Soroush Saadatfar, Felix
      Sasaki, and Yves Savourel: <title>XLIFF Version 2.1</title><date>12 October 2017</date>
      <bibliomisc><link version="Candidate OASIS Standard 01"
          xl:href="http://docs.oasis-open.org/xliff/xliff-core/v2.1/cos01/xliff-core-v2.1-cos01.html"
           /><link version="latest"
          xl:href="http://docs.oasis-open.org/xliff/xliff-core/v2.1/xliff-core-v2.1.html"
         /></bibliomisc>
    </bibliomixed>
    <bibliomixed>
      <abbrev>XLIFF-2.0</abbrev> Edited by Tom Comerford, David Filip, Rodolfo M. Raya, and Yves Savourel: <title>XLIFF Version 2.0</title><date>04 August 2014</date>
      <bibliomisc><link version="OASIS Standard"
        xl:href="http://docs.oasis-open.org/xliff/xliff-core/v2.0/os/xliff-core-v2.0-os.html"
      /><link version="latest"
        xl:href="http://docs.oasis-open.org/xliff/xliff-core/v2.0/xliff-core-v2.0.html"
      /></bibliomisc>
    </bibliomixed>

  </bibliography>

</article>
